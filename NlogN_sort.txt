#include <stdio.h>
#include <stdlib.h>
#include <time.h>

int main()
{	
	srand(time(0));
	int N,i,j, step=0, counter1=0, counter2=0, size, middle=1, gigacounter;
	double lul;
	printf("type in a masive size N \n");
	scanf("%d", &N);
	int a[N], b[N];
	for(i = 0; i<N; i++){//заполнение массива рандомными числами
		lul=(double)rand()/RAND_MAX*89;
		a[i]=10+(int)lul; 
		}
	for(i=0; i<N; i++)printf("%d \n", a[i]);
	printf("\n");
	i=0;
	for(size=2; size<=N; size*=2){//пока подмассив не станет размером с массив
	    middle=size/2;
		for(gigacounter=0; gigacounter<N; gigacounter+=size){
			while(counter1<size/2&&counter2<size/2)b[i++]=a[counter1+step]>a[counter2+step+middle] ? a[step+middle+counter2++]:a[step+counter1++];//сортировка внутри подмассива
			while(counter1<size/2)b[i++]=a[step+counter1++];//дозапись подмассива
			while(counter2<size/2)b[i++]=a[step+middle+counter2++];//дозапись подмассива
			counter1=0;
			counter2=0;
			step+=size;
		}
		step=0;
		for(i=0; i<N;i++)a[i]=b[i];
		i=0;
	}
	for(i=0; i<N; i++)printf("%d \n", a[i]);
	}