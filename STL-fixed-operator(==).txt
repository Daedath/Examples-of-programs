#include <stdlib.h>
#include <iostream> 
#include <cstdlib>
#include <vector>
#include <algorithm>
using namespace std;
class Vector10maxD
{
	private:
		int N;
		double x[10];
	public:
		Vector10maxD() {N=0; double x = NULL;}
		Vector10maxD(int Nn) 
		{
		N=Nn; 
		cout<<"type coords:\n";
		for (int i=0;i<N;i++) {cin>>x[i];}
		};
		bool operator==(const Vector10maxD&);
		bool operator<(const Vector10maxD&);
		friend ostream& operator<<(ostream&,Vector10maxD&);
};
bool Vector10maxD::operator==(const Vector10maxD &V2)
{ 
	if (N==V2.N)
	{
//		cout<<"ooga-booga"<<endl;
		int count=0;
		for(int i=0;i<N;i++) if(x[i]==V2.x[i]) count++;
		return (count==N);
	}
	return 0;
}
bool Vector10maxD::operator<(const Vector10maxD &V2)
{
	if (N!=V2.N) return (N<V2.N);
	for (int i=0;i<N;i++)
	{
		if(x[i]==V2.x[i]) { ;}
		else return (x[i]<V2.x[i]);
	}
	return 0;
}
ostream& operator<<(ostream &os, Vector10maxD &V1)
{	
//	os<<V1.N<<endl;
	for(int i=0;i<V1.N;i++) os<<V1.x[i]<<" ";
	return os;
}

int main(){
	Vector10maxD a(3);
	Vector10maxD b = a;
//	cout<< b << endl << a << endl;
	cout << "Truth indeed: " << (b == a) << endl;
	
	
	
	
	
	vector <Vector10maxD> v;
	int N;
	cout<<"type numbers of vectors\n";
	cin>>N;
	for(int i=0;i<N;i++)
	{
		int n;
		cout<<"type a dimension of vector "<<i<<endl;
		cin>>n;
		Vector10maxD Vv(n);
		v.push_back(Vv);
	}
	sort(v.begin(),v.end(),[](Vector10maxD a,Vector10maxD b) {return (!(a<b));}); //сортировка по убываниюr
	cout<<"rezult of sort\n";
	for_each(v.begin(),v.end(),[](Vector10maxD v){cout<<v<<endl;});
	cout<<"end of sort\n";
    // удаляем все элементы, меньшие максимального, но большие всех остальных
    vector <Vector10maxD> v2;
    v2=v;
    sort(v2.begin(),v2.end(),[](Vector10maxD a,Vector10maxD b) {return (!(a<b));}); // на случай, если мы использовали другую сортировку для v
    int shift = 0;
    for(int i=1;i<N;i++)
    {
       	int j=(i+1)-i/(N-1)*N; // чтобы цикл работал исправно и для последнего элемента
       	if ((v[i]<v[0])&&(v[j]<v[i])) v2.erase(v2.end()-(N-1-shift)), shift++;
       	else i+=N; // прекращаем цикл
	}
	for_each(v2.begin(),v2.end(),[](Vector10maxD v2){cout<<v2<<endl;});
	cout<<"end - "<<sizeof(v2)<<endl;
	
}